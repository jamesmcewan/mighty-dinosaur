---
import { getCollection } from "astro:content"

const movies = await getCollection("movies")

const sortedMovies = movies.sort((a, b) => a.data.rank - b.data.rank)
---

<section class="not-prose">
  <ul class="grid grid-cols-2 md:grid-cols-3 gap-4 list-none">
    {
      sortedMovies.map((item) => {
    const { title, poster, year } = item.data
        return (
          <li>
      <img class="h-auto max-w-full rounded-lg" src={`https://img.mightydinosaur.dev/movies/thumb/${poster}`} alt={title}>
      <h2 class="font-cartridgerough text-base mt-1.5 text-tn-purple0">{title}</h2>
        <p class="text-xs mt-0.75">{year}</p>
          </li>
        )
      })
    }
  </ul>
</section>

